<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.13"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>SJSU-Dev2: sjsu::AutoVerifyPeripheralMemory&lt; Peripheral &gt; Class Template Reference</title>
        <!--<link href="../../tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="../../dynsections.js"></script>
        <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
        <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
        <link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
<link href="../../jquery.smartmenus.bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <link href="../../jquery.smartmenus.bootstrap.css" rel="stylesheet">
        <script type="text/javascript" src="../../jquery.smartmenus.min.js"></script>
        <!-- SmartMenus jQuery Bootstrap Addon -->
        <script type="text/javascript" src="../../jquery.smartmenus.bootstrap.min.js"></script>
        <!-- SmartMenus jQuery plugin -->
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">SJSU-Dev2 </a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d0/d6b/namespacesjsu.html">sjsu</a></li><li class="navelem"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html">AutoVerifyPeripheralMemory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d7/df1/classsjsu_1_1AutoVerifyPeripheralMemory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sjsu::AutoVerifyPeripheralMemory&lt; Peripheral &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../db/dc7/peripherals_8hpp_source.html">peripherals.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa107b9dd3da32bd61d62ca8c7e7cbc2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html#aa107b9dd3da32bd61d62ca8c7e7cbc2a">AutoVerifyPeripheralMemory</a> (Peripheral **peripheral_address)</td></tr>
<tr class="separator:aa107b9dd3da32bd61d62ca8c7e7cbc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a493d805cd207233deca930d8fd6096"><td class="memItemLeft" align="right" valign="top">Peripheral *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html#a6a493d805cd207233deca930d8fd6096">Mock</a> ()</td></tr>
<tr class="separator:a6a493d805cd207233deca930d8fd6096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbcfcd1c4f2b7cb2cfa69ef9045f8aae"><td class="memItemLeft" align="right" valign="top">Peripheral *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html#adbcfcd1c4f2b7cb2cfa69ef9045f8aae">Expected</a> ()</td></tr>
<tr class="separator:adbcfcd1c4f2b7cb2cfa69ef9045f8aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8634f2f78c978df0d5002e6fe8a40035"><td class="memTemplParams" colspan="2">template&lt;typename PeripheralMemoryType &gt; </td></tr>
<tr class="memitem:a8634f2f78c978df0d5002e6fe8a40035"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../dd/dbe/classsjsu_1_1bit_1_1Register.html">bit::Register</a>&lt; PeripheralMemoryType &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html#a8634f2f78c978df0d5002e6fe8a40035">ExpectedRegister</a> (volatile PeripheralMemoryType Peripheral::*member)</td></tr>
<tr class="separator:a8634f2f78c978df0d5002e6fe8a40035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a872b8a51039bc85d6839a40040ce2b4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html#a872b8a51039bc85d6839a40040ce2b4f">CopyMockToExpected</a> ()</td></tr>
<tr class="separator:a872b8a51039bc85d6839a40040ce2b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aca0c1b59a3b773caff895fd81594a438"><td class="memItemLeft" align="right" valign="top"><a id="aca0c1b59a3b773caff895fd81594a438"></a>
Peripheral **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html#aca0c1b59a3b773caff895fd81594a438">peripheral_address_</a></td></tr>
<tr class="memdesc:aca0c1b59a3b773caff895fd81594a438"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of the driver's address pointer. <br /></td></tr>
<tr class="separator:aca0c1b59a3b773caff895fd81594a438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7372bf0d87128ac66a99bbaaf21ac06b"><td class="memItemLeft" align="right" valign="top"><a id="a7372bf0d87128ac66a99bbaaf21ac06b"></a>
Peripheral *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html#a7372bf0d87128ac66a99bbaaf21ac06b">original_address_</a></td></tr>
<tr class="memdesc:a7372bf0d87128ac66a99bbaaf21ac06b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The original address pointed to by the peripheral pointer. <br /></td></tr>
<tr class="separator:a7372bf0d87128ac66a99bbaaf21ac06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66426d0facfaabb3d6bae6d0a6f8bea"><td class="memItemLeft" align="right" valign="top"><a id="ad66426d0facfaabb3d6bae6d0a6f8bea"></a>
Peripheral&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html#ad66426d0facfaabb3d6bae6d0a6f8bea">mock_memory_</a></td></tr>
<tr class="memdesc:ad66426d0facfaabb3d6bae6d0a6f8bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mock memory that will be manipulated. <br /></td></tr>
<tr class="separator:ad66426d0facfaabb3d6bae6d0a6f8bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de6a4a1cfef05d06cbfb5607b147a93"><td class="memItemLeft" align="right" valign="top">Peripheral&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html#a3de6a4a1cfef05d06cbfb5607b147a93">expected_memory_</a></td></tr>
<tr class="separator:a3de6a4a1cfef05d06cbfb5607b147a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Peripheral&gt;<br />
class sjsu::AutoVerifyPeripheralMemory&lt; Peripheral &gt;</h3>

<p>Helper class for comparing manipulations made to a peripheral's memory against what is expected after a driver methods have been called. Normally, the procedure for simulating hardware in a host test is to setup the memory as expected before a function call, call the function, then afterwards check each field that they expect to be modified. The problem with this approach is that leaves out all of the other fields that may have been incorrectly manipulated by a function or class method. One could write code to check the rest but this tedious and could be forgotten.</p>
<p>This class simplifies the testing procedure, reduces the amount of code written and most importantly performs a wholistic comparison between the mock memory and the expected memory, ensuring that any bit of data that is not set correctly is checked for.</p>
<p>Usage: </p><pre class="fragment">AutoVerifyPeripheralMemory adc_memory(&amp;Adc::adc_base);

// Modify the expected memory
bit::Register(&amp;mock_peripheral.Expected()-&gt;CR)
    .Insert(kExpectedDivider, Adc::Control::kClockDivider)
    .Set(Adc::Control::kPowerEnable)
    .Set(Adc::Control::kBurstEnable)
    .Set(bit::MaskFromRange(kMockChannel0.channel))
    .Set(bit::MaskFromRange(kMockChannel1.channel))
    .Save();

// Call function here...

// Let the destructor of adc_memory handle checking the ADC memory
</pre><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Peripheral</td><td>- Peripheral data structure type like LPC40xx LPC_ADC_TypeDef. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa107b9dd3da32bd61d62ca8c7e7cbc2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa107b9dd3da32bd61d62ca8c7e7cbc2a">&#9670;&nbsp;</a></span>AutoVerifyPeripheralMemory()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Peripheral &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html">sjsu::AutoVerifyPeripheralMemory</a>&lt; Peripheral &gt;::<a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html">AutoVerifyPeripheralMemory</a> </td>
          <td>(</td>
          <td class="paramtype">Peripheral **&#160;</td>
          <td class="paramname"><em>peripheral_address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peripheral_address</td><td>- pointer to the peripheral pointer used in the driver. This will save the previous peripheral address, replace it with the mock memory, and on destruction of the class, will return the peripheral memory pointer back to its original address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a872b8a51039bc85d6839a40040ce2b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a872b8a51039bc85d6839a40040ce2b4f">&#9670;&nbsp;</a></span>CopyMockToExpected()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Peripheral &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html">sjsu::AutoVerifyPeripheralMemory</a>&lt; Peripheral &gt;::CopyMockToExpected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy the mock memory to the expected memory. This can be used for many purposes. The main two purposes are:</p>
<ol type="1">
<li>After setting up mock memory, rather than using the same code again for expected, simply copy the data then make the last modifications to the expected memory.</li>
<li>To ensure that the auto validation always succeeds. <a class="el" href="../../da/d70/classsjsu_1_1Can.html">Can</a> be used to skip validation. </li>
</ol>

</div>
</div>
<a id="adbcfcd1c4f2b7cb2cfa69ef9045f8aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbcfcd1c4f2b7cb2cfa69ef9045f8aae">&#9670;&nbsp;</a></span>Expected()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Peripheral &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Peripheral* <a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html">sjsu::AutoVerifyPeripheralMemory</a>&lt; Peripheral &gt;::Expected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>a pointer to the expected memory. Use this to setup the exected results of the memory after a function has been called. </dd></dl>

</div>
</div>
<a id="a8634f2f78c978df0d5002e6fe8a40035"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8634f2f78c978df0d5002e6fe8a40035">&#9670;&nbsp;</a></span>ExpectedRegister()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Peripheral &gt; </div>
<div class="memtemplate">
template&lt;typename PeripheralMemoryType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dbe/classsjsu_1_1bit_1_1Register.html">bit::Register</a>&lt;PeripheralMemoryType&gt; <a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html">sjsu::AutoVerifyPeripheralMemory</a>&lt; Peripheral &gt;::ExpectedRegister </td>
          <td>(</td>
          <td class="paramtype">volatile PeripheralMemoryType Peripheral::*&#160;</td>
          <td class="paramname"><em>member</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>a <a class="el" href="../../dd/dbe/classsjsu_1_1bit_1_1Register.html">bit::Register</a> to a member within the expected memory. Use this to setup the exected results of the memory after a function has been called. </dd></dl>

</div>
</div>
<a id="a6a493d805cd207233deca930d8fd6096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a493d805cd207233deca930d8fd6096">&#9670;&nbsp;</a></span>Mock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Peripheral &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Peripheral* <a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html">sjsu::AutoVerifyPeripheralMemory</a>&lt; Peripheral &gt;::Mock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>a pointer to the mock memory. This can be used to setup the memory of the peripheral prior to callling a function that will manipulate it. For example, setting status flags such that code does not loop or setting up bits that need to be cleared later by the function to be called. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3de6a4a1cfef05d06cbfb5607b147a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de6a4a1cfef05d06cbfb5607b147a93">&#9670;&nbsp;</a></span>expected_memory_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Peripheral &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Peripheral <a class="el" href="../../d4/d58/classsjsu_1_1AutoVerifyPeripheralMemory.html">sjsu::AutoVerifyPeripheralMemory</a>&lt; Peripheral &gt;::expected_memory_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Expected memory that the test case manipulates and is compared to the mock memory. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/SJSU-Dev2/SJSU-Dev2/library/testing/<a class="el" href="../../db/dc7/peripherals_8hpp_source.html">peripherals.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
        <script type="text/javascript" src="../../doxy-boot.js"></script>
</html>
